services:
  ros2:
    image: itskalvik/blueos-ros2:beta
    build:
      context: ./
      dockerfile: Dockerfile
      platforms:
        - "linux/amd64"
        - "linux/arm64"

    environment:
      - TERM=xterm-256color
      - XDG_RUNTIME_DIR

    volumes:
      - ./ros2_ws/:/root/ros2_ws/

    ports:
      - "4717:4717"

    #network_mode: host
    privileged: true
    tty: true
    stdin_open: true
